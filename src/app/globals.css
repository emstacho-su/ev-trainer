@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-bg: #f4f3ef;
  --color-surface-1: #ffffff;
  --color-surface-2: #f8f6f2;
  --color-surface-3: #ece8de;
  --color-text-primary: #1a1b1e;
  --color-text-secondary: #4a4f56;
  --color-text-inverse: #ffffff;
  --color-border-subtle: #d7d2c8;
  --color-border-strong: #9a9387;
  --color-focus-ring: #1b79ff;
  --color-action-primary: #1f2937;
  --color-action-primary-hover: #111827;
  --color-action-secondary: #ffffff;
  --color-action-secondary-hover: #f3efe8;
  --color-ev-positive: #0f766e;
  --color-ev-neutral: #a16207;
  --color-ev-negative: #b91c1c;
  --color-ev-accent: #334155;
  --color-alert-error-bg: #fef2f2;
  --color-alert-error-border: #fca5a5;
  --color-alert-error-text: #991b1b;
  --color-alert-warning-bg: #fffbeb;
  --color-alert-warning-border: #fcd34d;
  --color-alert-warning-text: #92400e;
  --color-alert-info-bg: #eff6ff;
  --color-alert-info-border: #93c5fd;
  --color-alert-info-text: #1e3a8a;
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-md: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.5rem;
  --shadow-1: 0 1px 2px rgb(0 0 0 / 0.06);
  --shadow-2: 0 8px 24px rgb(15 23 42 / 0.08);
  --focus-ring-width: 2px;
  color-scheme: light dark;
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #121416;
    --color-surface-1: #1a1d22;
    --color-surface-2: #20242b;
    --color-surface-3: #2c3139;
    --color-text-primary: #edf1f6;
    --color-text-secondary: #b4beca;
    --color-text-inverse: #0c1117;
    --color-border-subtle: #39414d;
    --color-border-strong: #586373;
    --color-focus-ring: #7fb2ff;
    --color-action-primary: #e2e8f0;
    --color-action-primary-hover: #f8fafc;
    --color-action-secondary: #20242b;
    --color-action-secondary-hover: #2b3038;
    --color-ev-positive: #5eead4;
    --color-ev-neutral: #fcd34d;
    --color-ev-negative: #fca5a5;
    --color-ev-accent: #93c5fd;
    --color-alert-error-bg: #3b1212;
    --color-alert-error-border: #7f1d1d;
    --color-alert-error-text: #fecaca;
    --color-alert-warning-bg: #3d2b12;
    --color-alert-warning-border: #7c4a03;
    --color-alert-warning-text: #fde68a;
    --color-alert-info-bg: #14213f;
    --color-alert-info-border: #1d4ed8;
    --color-alert-info-text: #bfdbfe;
  }
}

html[data-theme="light"] {
  --color-bg: #f4f3ef;
  --color-surface-1: #ffffff;
  --color-surface-2: #f8f6f2;
  --color-surface-3: #ece8de;
  --color-text-primary: #1a1b1e;
  --color-text-secondary: #4a4f56;
  --color-text-inverse: #ffffff;
  --color-border-subtle: #d7d2c8;
  --color-border-strong: #9a9387;
  --color-focus-ring: #1b79ff;
  --color-action-primary: #1f2937;
  --color-action-primary-hover: #111827;
  --color-action-secondary: #ffffff;
  --color-action-secondary-hover: #f3efe8;
  --color-ev-positive: #0f766e;
  --color-ev-neutral: #a16207;
  --color-ev-negative: #b91c1c;
  --color-ev-accent: #334155;
  --color-alert-error-bg: #fef2f2;
  --color-alert-error-border: #fca5a5;
  --color-alert-error-text: #991b1b;
  --color-alert-warning-bg: #fffbeb;
  --color-alert-warning-border: #fcd34d;
  --color-alert-warning-text: #92400e;
  --color-alert-info-bg: #eff6ff;
  --color-alert-info-border: #93c5fd;
  --color-alert-info-text: #1e3a8a;
}

html[data-theme="dark"] {
  --color-bg: #121416;
  --color-surface-1: #1a1d22;
  --color-surface-2: #20242b;
  --color-surface-3: #2c3139;
  --color-text-primary: #edf1f6;
  --color-text-secondary: #b4beca;
  --color-text-inverse: #0c1117;
  --color-border-subtle: #39414d;
  --color-border-strong: #586373;
  --color-focus-ring: #7fb2ff;
  --color-action-primary: #e2e8f0;
  --color-action-primary-hover: #f8fafc;
  --color-action-secondary: #20242b;
  --color-action-secondary-hover: #2b3038;
  --color-ev-positive: #5eead4;
  --color-ev-neutral: #fcd34d;
  --color-ev-negative: #fca5a5;
  --color-ev-accent: #93c5fd;
  --color-alert-error-bg: #3b1212;
  --color-alert-error-border: #7f1d1d;
  --color-alert-error-text: #fecaca;
  --color-alert-warning-bg: #3d2b12;
  --color-alert-warning-border: #7c4a03;
  --color-alert-warning-text: #fde68a;
  --color-alert-info-bg: #14213f;
  --color-alert-info-border: #1d4ed8;
  --color-alert-info-text: #bfdbfe;
}

body {
  margin: 0;
  min-height: 100vh;
  background: var(--color-bg);
  color: var(--color-text-primary);
  font-family: 'Space Grotesk', 'IBM Plex Sans', 'Segoe UI', sans-serif;
}

:focus-visible {
  outline: var(--focus-ring-width) solid var(--color-focus-ring);
  outline-offset: 2px;
}

@layer components {
  .app-shell-root {
    min-height: 100vh;
  }

  .app-shell-header {
    position: sticky;
    top: 0;
    z-index: 10;
    display: flex;
    justify-content: flex-end;
    padding: var(--space-3) var(--space-4);
    background: color-mix(in srgb, var(--color-bg) 92%, transparent);
    backdrop-filter: blur(6px);
  }

  .app-page {
    color: var(--color-text-primary);
  }

  .surface-card {
    border: 1px solid var(--color-border-subtle);
    background: var(--color-surface-1);
    color: var(--color-text-primary);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-1);
  }

  .text-muted {
    color: var(--color-text-secondary);
  }

  .btn-primary {
    border: 1px solid var(--color-action-primary);
    background: var(--color-action-primary);
    color: var(--color-text-inverse);
    border-radius: var(--radius-md);
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-sm);
    font-weight: 600;
  }

  .btn-primary:hover {
    background: var(--color-action-primary-hover);
  }

  .btn-secondary {
    border: 1px solid var(--color-border-strong);
    background: var(--color-action-secondary);
    color: var(--color-text-primary);
    border-radius: var(--radius-md);
    padding: var(--space-2) var(--space-4);
    font-size: var(--font-size-sm);
    font-weight: 600;
  }

  .btn-secondary:hover {
    background: var(--color-action-secondary-hover);
  }

  .alert-error {
    border: 1px solid var(--color-alert-error-border);
    background: var(--color-alert-error-bg);
    color: var(--color-alert-error-text);
    border-radius: var(--radius-md);
    padding: var(--space-3);
  }

  .alert-warning {
    border: 1px solid var(--color-alert-warning-border);
    background: var(--color-alert-warning-bg);
    color: var(--color-alert-warning-text);
    border-radius: var(--radius-md);
    padding: var(--space-3);
  }

  .link-subtle {
    color: var(--color-text-secondary);
    text-decoration: underline;
  }

  .ev-positive {
    color: var(--color-ev-positive);
  }

  .ev-neutral {
    color: var(--color-ev-neutral);
  }

  .ev-negative {
    color: var(--color-ev-negative);
  }
}
